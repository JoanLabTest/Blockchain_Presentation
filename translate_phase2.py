#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Script de traduction Phase 2 pour index_en.html (Sections 3-6)
"""

import re

def main():
    print("üöÄ D√©marrage de la traduction Phase 2 (Sections 3-6)...")
    try:
        with open('index_en.html', 'r', encoding='utf-8') as f:
            content = f.read()
    except FileNotFoundError:
        print("‚ùå Fichier index_en.html introuvable.")
        return

    replacements = [
        # SECTION 3: TYPES DE TOKENS
        (r'Les Types de Tokens', 'Token Types'),
        (r'Comprendre les diff√©rentes cat√©gories d\'actifs num√©riques', 'Understanding the different categories of digital assets'),
        (r'Utility Tokens', 'Utility Tokens'), # Identique, mais pour contexte
        (r'Fonction :', 'Function:'),
        (r'Donnent acc√®s √† des services ou fonctionnalit√©s sp√©cifiques au sein d\'un\s+√©cosyst√®me blockchain\.', 
         'Provide access to specific services or features within a blockchain ecosystem.'),
        (r'Exemple :', 'Example:'),
        (r'Tokens pour utiliser une plateforme de stockage d√©centralis√©, payer des\s+frais de transaction, ou acc√©der √† une application\.', 
         'Tokens to use a decentralized storage platform, pay transaction fees, or access an application.'),
        
        (r'Security Tokens', 'Security Tokens'),
        (r'Repr√©sentent la propri√©t√© d\'actifs r√©els \(actions, obligations,\s+immobilier\)\.', 
         'Represent ownership of real assets (equity, bonds, real estate).'),
        (r'R√©gulation :', 'Regulation:'),
        (r'Soumis aux r√©gulations financi√®res traditionnelles\. Offrent des droits\s+similaires aux titres financiers classiques\.', 
         'Subject to traditional financial regulations. Offer rights similar to classic financial securities.'),
        
        (r'Governance Tokens', 'Governance Tokens'),
        (r'Permettent aux d√©tenteurs de participer aux d√©cisions concernant\s+l\'√©volution d\'un protocole\.', 
         'Allow holders to participate in decisions regarding the protocol\'s evolution.'),
        (r'Pouvoir :', 'Power:'),
        (r'Vote sur les modifications, allocation de tr√©sorerie, partenariats\s+strat√©giques dans les DAO \(Organisations Autonomes D√©centralis√©es\)\.', 
         'Vote on modifications, treasury allocation, strategic partnerships in DAOs (Decentralized Autonomous Organizations).'),

        # SECTION 4: TYPES DE TOKENISATION
        (r'Les Types de Tokenisation', 'Tokenization Types'),
        (r'Comment cr√©er de la valeur num√©rique', 'How to create digital value'),
        (r'La tokenisation repr√©sente une r√©volution dans la repr√©sentation num√©rique des actifs\. Ce processus\s+permet de transformer pratiquement n\'importe quel actif du monde r√©el en un token num√©rique sur une\s+blockchain, ouvrant ainsi des possibilit√©s infinies pour la finance moderne\.', 
         'Tokenization represents a revolution in the digital representation of assets. This process allows transforming virtually any real-world asset into a digital token on a blockchain, opening infinite possibilities for modern finance.'),
        
        (r'Asset-Backed Tokens', 'Asset-Backed Tokens'),
        (r'Tokens adoss√©s √† des actifs r√©els tangibles', 'Tokens backed by tangible real-world assets'),
        (r'Stablecoins adoss√©s √† des monnaies fiat \(USD, EUR\)', 'Stablecoins backed by fiat currencies (USD, EUR)'),
        (r'Tokens immobiliers repr√©sentant des parts de propri√©t√©s', 'Real estate tokens representing property shares'),
        (r'Tokens obligataires li√©s √† des titres de dette', 'Bond tokens linked to debt securities'),
        (r'Tokens adoss√©s √† des mati√®res premi√®res \(or, p√©trole\)', 'Tokens backed by commodities (gold, oil)'),
        
        (r'Tokens donnant acc√®s √† des services', 'Tokens providing access to services'),
        (r'Paiement des frais de transaction sur une blockchain', 'Payment of transaction fees on a blockchain'),
        (r'Acc√®s √† une application d√©centralis√©e', 'Access to a decentralized application'),
        (r'Utilisation d\'un protocole DeFi pour emprunter ou pr√™ter', 'Use of a DeFi protocol for borrowing or lending'),
        (r'Droit d\'utiliser une API ou un service cloud d√©centralis√©', 'Right to use an API or decentralized cloud service'),
        
        (r'Revenue-Sharing Tokens', 'Revenue-Sharing Tokens'),
        (r'Tokens distribuant une partie des revenus', 'Tokens distributing a share of revenue'),
        (r'Partage automatique des frais de transaction pr√©lev√©s', 'Automatic sharing of collected transaction fees'),
        (r'R√©mun√©ration bas√©e sur le volume d\'activit√© du protocole', 'Remuneration based on protocol activity volume'),
        (r'Distribution des profits g√©n√©r√©s par le pool de liquidit√©s', 'Distribution of profits generated by the liquidity pool'),
        (r'Dividendes automatiques via smart contracts', 'Automatic dividends via smart contracts'),
        
        (r'Staking Tokens', 'Staking Tokens'),
        (r'Tokens permettant de s√©curiser le r√©seau', 'Tokens allowing network security'),
        (r'Blockchains Proof of Stake \(Ethereum, Cardano, Polkadot\)', 'Proof of Stake Blockchains (Ethereum, Cardano, Polkadot)'),
        (r'Protocoles DeFi offrant des rendements sur liquidit√©s', 'DeFi protocols offering yields on liquidity'),
        (r'Programmes de yield farming', 'Yield farming programs'),
        (r'Validation de transactions dans les r√©seaux d√©centralis√©s', 'Transaction validation in decentralized networks'),
        
        (r'Tokens donnant un pouvoir de d√©cision', 'Tokens giving decision-making power'),
        (r'Ajustement des frais et param√®tres √©conomiques', 'Adjustment of fees and economic parameters'),
        (r'Ajout de nouvelles fonctionnalit√©s', 'Addition of new features'),
        (r'Allocation de la tr√©sorerie du projet', 'Project treasury allocation'),
        (r'Partenariats strat√©giques et modifications du code', 'Strategic partnerships and code modifications'),

        (r'Avantages Mesurables de la Tokenisation', 'Measurable Benefits of Tokenization'),
        (r'R√©duction des co√ªts op√©rationnels', 'Operational cost reduction'),
        (r'Ex√©cution vs plusieurs jours', 'Execution vs several days'),
        (r'Erreurs humaines', 'Human errors'),
        (r'Tra√ßabilit√© compl√®te', 'Complete traceability'),
        (r'Secondes', 'Seconds'),

        # SECTION 5: ALIMENTATION DES TOKENS
        (r'Comment un Token est ¬´ Aliment√© ¬ª \?', 'How is a Token "Powered"?'),
        (r'Les m√©canismes qui cr√©ent la valeur d\'un token', 'Mechanisms creating token value'),
        (r'Concept Fondamental', 'Fundamental Concept'),
        (r'Un token n\'a pas de valeur par d√©faut\. Contrairement √† une monnaie traditionnelle soutenue par un\s+√âtat ou une banque centrale, la valeur d\'un token provient enti√®rement de <strong>m√©canismes\s+√©conomiques pr√©cis</strong> int√©gr√©s dans son architecture\.', 
         'A token has no default value. Unlike traditional currency backed by a State or Central Bank, a token\'s value derives entirely from <strong>precise economic mechanisms</strong> embedded in its architecture.'),
        (r'Utility \(Utilit√©\)', 'Utility'),
        (r'Le token donne acc√®s √† un service ou une fonctionnalit√©', 'Token gives access to a service or feature'),
        (r'Revenue-Sharing \(Partage de Revenus\)', 'Revenue-Sharing'),
        (r'Le token distribue une partie des revenus g√©n√©r√©s', 'Token distributes part of generated revenue'),
        (r'Asset-Backed \(Adossement √† des Actifs\)', 'Asset-Backed'),
        (r'Le token est garanti par un actif r√©el', 'Token is collateralized by a real asset'),
        (r'Staking \(Mise en Jeu\)', 'Staking'),
        (r'Le token g√©n√®re des r√©compenses en √©tant verrouill√©', 'Token generates rewards by being locked'),
        (r'Governance \(Gouvernance\)', 'Governance'),
        (r'Le token donne un pouvoir de d√©cision', 'Token gives decision-making power'),
        (r'Scarcity \(Raret√©\)', 'Scarcity'),
        (r'La valeur vient de l\'offre limit√©e', 'Value comes from limited supply'),
        (r'Supply cap :', 'Supply cap:'),
        (r'Offre maximale d√©finie \(21M pour Bitcoin\)', 'Defined maximum supply (21M for Bitcoin)'),
        (r'Burn de tokens :', 'Token Burn:'),
        (r'Destruction r√©guli√®re via les frais', 'Regular destruction via fees'),
        (r'Halving :', 'Halving:'),
        (r'R√©duction progressive de l\'√©mission', 'Progressive issuance reduction'),
        (r'Inflation contr√¥l√©e :', 'Controlled Inflation:'),
        (r'√âmission d√©croissante programm√©e', 'Programmed decreasing issuance'),

        # SECTION 6: CYCLE DE VIE
        (r'Cycle de Vie Complet d\'un Token', 'Complete Token Lifecycle'),
        (r'De la conception √† l\'extinction : comprendre toutes les √©tapes', 'From conception to extinction: understanding all steps'),
        
        # Ce pattern est une liste partielle, il faudra peut-√™tre v√©rifier le contenu r√©el
    ]

    count = 0
    content_modified = content
    for pattern, replacement in replacements:
        new_content = re.sub(pattern, replacement, content_modified, flags=re.DOTALL | re.IGNORECASE)
        if new_content != content_modified:
            content_modified = new_content
            count += 1
            print(f"‚úÖ Remplac√© : {replacement[:30]}...")
    
    with open('index_en.html', 'w', encoding='utf-8') as f:
        f.write(content_modified)
    
    print(f"\nüéâ Traduction Phase 2 termin√©e : {count} blocs corrig√©s.")

if __name__ == "__main__":
    main()
