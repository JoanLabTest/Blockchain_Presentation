<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DCM Digital â€“ Simulateur MiCA</title>
    <meta name="description" content="Simulateur de conformite MiCA â€” evaluez votre projet en 5 etapes.">
    <link
        href="https://fonts.googleapis.com/css2?family=Urbanist:wght@400;600;700;800&family=JetBrains+Mono:wght@400&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="styles-footer.css">
    <style>
        :root {
            --bg: #020617;
            --surface: #0d1117;
            --border: rgba(255, 255, 255, .07);
            --blue: #3b82f6;
            --green: #10b981;
            --gold: #f0c040;
            --red: #ef4444;
            --amber: #f59e0b;
            --text: #e2e8f0;
            --muted: #64748b
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box
        }

        body {
            font-family: 'Urbanist', sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh
        }

        .top-nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 40px;
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(2, 6, 23, .9);
            backdrop-filter: blur(12px)
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 800;
            font-size: 16px;
            color: #fff;
            text-decoration: none
        }

        .nav-brand i {
            color: var(--blue)
        }

        .nav-badge {
            background: rgba(59, 130, 246, .15);
            color: var(--blue);
            border: 1px solid rgba(59, 130, 246, .3);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 1px
        }

        .hero {
            text-align: center;
            padding: 56px 20px 36px;
            max-width: 680px;
            margin: 0 auto
        }

        .hero-tag {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: rgba(59, 130, 246, .1);
            border: 1px solid rgba(59, 130, 246, .25);
            color: var(--blue);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            margin-bottom: 18px
        }

        .hero h1 {
            font-size: 38px;
            font-weight: 800;
            line-height: 1.15;
            margin-bottom: 12px
        }

        .hero p {
            color: var(--muted);
            font-size: 14px;
            line-height: 1.7
        }

        .wrap {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px 80px
        }

        .progress-bar-wrap {
            margin-bottom: 32px
        }

        .prog-labels {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px
        }

        .prog-label {
            font-size: 11px;
            color: var(--muted);
            font-weight: 600
        }

        .prog-track {
            height: 4px;
            background: rgba(255, 255, 255, .05);
            border-radius: 2px;
            overflow: hidden
        }

        .prog-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--blue), #8b5cf6);
            border-radius: 2px;
            transition: width .5s ease
        }

        .gauge-section {
            display: flex;
            justify-content: center;
            margin-bottom: 32px
        }

        .gauge-label {
            text-align: center;
            font-size: 10px;
            color: var(--muted);
            margin-top: 6px;
            letter-spacing: 1px;
            text-transform: uppercase
        }

        .gauge-value {
            text-align: center;
            font-family: 'JetBrains Mono', monospace;
            font-size: 26px;
            font-weight: 700;
            margin-top: 4px;
            transition: color .4s
        }

        .trail {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-bottom: 18px;
            min-height: 28px
        }

        .trail-item {
            background: rgba(255, 255, 255, .04);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 3px 12px;
            font-size: 11px;
            color: var(--muted);
            font-weight: 600
        }

        .qcard {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 36px 40px;
            animation: fiu .35s ease
        }

        @keyframes fiu {
            from {
                opacity: 0;
                transform: translateY(14px)
            }

            to {
                opacity: 1;
                transform: translateY(0)
            }
        }

        .q-num {
            font-size: 11px;
            color: var(--muted);
            font-weight: 700;
            letter-spacing: 2px;
            text-transform: uppercase;
            margin-bottom: 10px
        }

        .q-text {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 6px;
            line-height: 1.3
        }

        .q-sub {
            font-size: 13px;
            color: var(--muted);
            margin-bottom: 26px;
            line-height: 1.5
        }

        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px
        }

        .opt-btn {
            background: rgba(255, 255, 255, .03);
            border: 1px solid rgba(255, 255, 255, .09);
            border-radius: 10px;
            padding: 16px 18px;
            cursor: pointer;
            text-align: left;
            color: var(--text);
            font-size: 14px;
            font-weight: 600;
            font-family: 'Urbanist', sans-serif;
            transition: all .2s;
            display: flex;
            align-items: center;
            gap: 10px
        }

        .opt-btn:hover {
            border-color: var(--blue);
            background: rgba(59, 130, 246, .08);
            transform: translateY(-1px)
        }

        .opt-icon {
            font-size: 18px;
            flex-shrink: 0
        }

        .pro-gate {
            background: linear-gradient(135deg, rgba(245, 158, 11, .08), rgba(139, 92, 246, .08));
            border: 1px solid rgba(245, 158, 11, .25);
            border-radius: 14px;
            padding: 40px;
            text-align: center;
            animation: fiu .35s ease
        }

        .pro-gate h3 {
            font-size: 22px;
            font-weight: 800;
            margin-bottom: 10px
        }

        .pro-gate p {
            color: var(--muted);
            font-size: 14px;
            margin-bottom: 24px;
            line-height: 1.6
        }

        .btn-upgrade {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(135deg, #f59e0b, #f0c040);
            color: #08090d;
            border: none;
            border-radius: 8px;
            padding: 13px 28px;
            font-weight: 800;
            font-size: 15px;
            cursor: pointer;
            text-decoration: none;
            transition: opacity .2s
        }

        .btn-upgrade:hover {
            opacity: .88
        }

        .btn-ghost {
            background: transparent;
            color: var(--muted);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 13px 22px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            font-family: 'Urbanist', sans-serif;
            margin-left: 12px;
            transition: border-color .2s, color .2s
        }

        .btn-ghost:hover {
            border-color: #555;
            color: #ccc
        }

        .vcard {
            border-radius: 14px;
            padding: 40px;
            text-align: center;
            animation: fiu .4s ease
        }

        .v-exempt {
            background: linear-gradient(135deg, rgba(16, 185, 129, .08), rgba(16, 185, 129, .04));
            border: 1px solid rgba(16, 185, 129, .3)
        }

        .v-register {
            background: linear-gradient(135deg, rgba(245, 158, 11, .08), rgba(245, 158, 11, .04));
            border: 1px solid rgba(245, 158, 11, .3)
        }

        .v-full {
            background: linear-gradient(135deg, rgba(239, 68, 68, .08), rgba(239, 68, 68, .04));
            border: 1px solid rgba(239, 68, 68, .3)
        }

        .v-icon {
            font-size: 44px;
            margin-bottom: 14px
        }

        .v-title {
            font-size: 26px;
            font-weight: 800;
            margin-bottom: 8px
        }

        .v-article {
            font-family: 'JetBrains Mono', monospace;
            font-size: 11px;
            font-weight: 600;
            letter-spacing: 1px;
            margin-bottom: 14px;
            opacity: .8
        }

        .v-desc {
            color: var(--muted);
            font-size: 14px;
            line-height: 1.7;
            max-width: 520px;
            margin: 0 auto 26px
        }

        .v-actions {
            display: flex;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap
        }

        .btn-copy {
            background: rgba(255, 255, 255, .06);
            border: 1px solid var(--border);
            color: var(--text);
            border-radius: 8px;
            padding: 11px 20px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            font-family: 'Urbanist', sans-serif;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background .2s
        }

        .btn-copy:hover {
            background: rgba(255, 255, 255, .1)
        }

        .btn-restart {
            background: transparent;
            border: 1px solid var(--blue);
            color: var(--blue);
            border-radius: 8px;
            padding: 11px 20px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            font-family: 'Urbanist', sans-serif;
            display: flex;
            align-items: center;
            gap: 8px
        }

        .btn-restart:hover {
            background: rgba(59, 130, 246, .1)
        }

        @media(max-width:580px) {
            .options {
                grid-template-columns: 1fr
            }

            .hero h1 {
                font-size: 26px
            }

            .qcard {
                padding: 24px 20px
            }
        }
    </style>
</head>

<body>

    <nav class="top-nav">
        <a href="index.html" class="nav-brand">
            <i class="fas fa-cube" style="color:var(--blue)"></i>
            DCM DIGITAL
        </a>
        <div style="display:flex; align-items:center; gap:25px;">
            <a href="dashboard.html" style="color:var(--muted); font-size:13px; text-decoration:none; font-weight:600;">
                <i class="fas fa-chart-line"></i> Dashboard
            </a>
            <span class="nav-badge">Simulateur MiCA</span>
        </div>
    </nav>

    <div class="hero">
        <div class="hero-tag"><i class="fas fa-shield-halved"></i> Outil de Conformite Reglementaire</div>
        <h1>Simulateur de Conformite MiCA</h1>
        <p>Repondez a 5 questions et obtenez une evaluation d'eligibilite MiCA avec les articles applicables.</p>
    </div>

    <div class="wrap">
        <div class="progress-bar-wrap" id="prog-wrap">
            <div class="prog-labels">
                <span class="prog-label" id="slab">Etape 1 / 5</span>
                <span class="prog-label" id="spct">20%</span>
            </div>
            <div class="prog-track">
                <div class="prog-fill" id="pfill" style="width:20%"></div>
            </div>
        </div>

        <div class="gauge-section" id="gsec">
            <div>
                <canvas id="gc" width="160" height="90"></canvas>
                <div class="gauge-value" id="gval" style="color:var(--blue)">0%</div>
                <div class="gauge-label">Score Conformite</div>
            </div>
        </div>

        <div class="trail" id="trail"></div>
        <div id="content"></div>
    </div>

    <script>
        const QS = [
            {
                id: 'asset_type', text: "Quel type d'actif numerique votre projet emet-il ?", sub: "La classification determine quel titre MiCA s'applique.", opts: [
                    { l: 'Asset-Referenced Token (ART)', i: 'ðŸ›ï¸', v: 'art' },
                    { l: 'E-Money Token (EMT)', i: 'ðŸ’¶', v: 'emt' },
                    { l: 'Utility Token', i: 'âš™ï¸', v: 'utility' },
                    { l: 'Autre / Incertain', i: 'â“', v: 'other' }]
            },
            {
                id: 'domicile', text: "Ou l'emetteur est-il etabli ?", sub: "MiCA s'applique aux entites qui offrent des crypto-actifs au sein de l'UE.", opts: [
                    { l: 'Union Europeenne (UE)', i: 'ðŸ‡ªðŸ‡º', v: 'eu' },
                    { l: 'Pays tiers (hors UE)', i: 'ðŸŒ', v: 'non_eu' }]
            },
            {
                id: 'supply_cap', text: "La valeur totale des tokens depasse-t-elle 5 million EUR ?", sub: "En-dessous du seuil, certaines exemptions s'appliquent (Art. 4 SS2).", opts: [
                    { l: 'Oui, > 5 Mâ‚¬', i: 'ðŸ“ˆ', v: 'above' },
                    { l: 'Non, â‰¤ 5 Mâ‚¬', i: 'ðŸ“‰', v: 'below' }]
            },
            {
                id: 'public_offering', text: "Les tokens sont-ils offerts au grand public ?", sub: "Offres aux seuls investisseurs qualifies â†’ exemption partielle.", opts: [
                    { l: 'Oui, au grand public', i: 'ðŸ“£', v: 'public' },
                    { l: 'Non, investisseurs qualifies uniquement', i: 'ðŸ¦', v: 'qualified' }]
            },
            {
                id: 'marketing_scope', text: "Votre marketing cible-t-il activement l'UE ?", sub: "Le lieu du marketing determine la juridiction competente.", opts: [
                    { l: 'Oui, ciblage actif UE', i: 'ðŸŽ¯', v: 'eu_marketing' },
                    { l: 'Non, geo-bloque hors UE', i: 'ðŸš«', v: 'blocked' }]
            }
        ];

        const SM = { art: 40, emt: 45, utility: 20, other: 15, eu: 30, non_eu: 10, above: 20, below: 5, public: 15, qualified: 5, eu_marketing: 10, blocked: 0 };

        let step = 0, ans = {}, score = 0;

        function gauge(pct, col) {
            const c = document.getElementById('gc'), ctx = c.getContext('2d');
            ctx.clearRect(0, 0, 160, 90);
            ctx.beginPath(); ctx.arc(80, 80, 58, Math.PI, 2 * Math.PI); ctx.strokeStyle = 'rgba(255,255,255,.06)'; ctx.lineWidth = 11; ctx.stroke();
            if (pct > 0) { ctx.beginPath(); ctx.arc(80, 80, 58, Math.PI, Math.PI + (pct / 100) * Math.PI); ctx.strokeStyle = col; ctx.lineWidth = 11; ctx.lineCap = 'round'; ctx.stroke(); }
            const v = document.getElementById('gval'); v.textContent = pct + '%'; v.style.color = col;
        }

        function gcolor(s) { return s <= 30 ? '#10b981' : s <= 60 ? '#f59e0b' : '#ef4444'; }

        function verdict(a) {
            const { asset_type: at, domicile: d, supply_cap: sc, public_offering: po, marketing_scope: ms } = a;
            if (at === 'utility' && sc === 'below' && po === 'qualified')
                return { type: 'exempt', title: 'Projet Probablement Exempt', art: 'Art. 4 SS2 â€” Exemption Offre Limitee', col: '#10b981', ico: 'âœ…', desc: "Votre projet presents les caracteristiques d'une exemption (utility token, seuil â‰¤5Mâ‚¬, investisseurs qualifies). Un avis juridique confirmant l'exemption reste recommande avant toute emission." };
            if (d === 'non_eu' && ms === 'blocked')
                return { type: 'exempt', title: 'Hors Perimetre MiCA', art: 'Art. 2 â€” Champ d\'Application Territorial', col: '#10b981', ico: 'âœ…', desc: "MiCA s'applique aux offres au sein de l'UE. Un emetteur etabli hors UE qui geo-bloque activement les residents UE est potentiellement hors perimetre." };
            if (at === 'utility' && sc === 'below')
                return { type: 'register', title: 'Notification Requise', art: 'Art. 8 & 9 â€” White Paper Crypto-Actifs', col: '#f59e0b', ico: 'ðŸ“‹', desc: "Ce profil necessite la publication d'un Crypto-Asset White Paper (CAWP) et la notification a l'autorite competente. Pas d'autorisation prealable requise mais obligations de publication strictes." };
            if (at === 'art')
                return { type: 'full', title: 'Autorisation Complete Requise', art: 'Art. 16-47 â€” Titre III : Asset-Referenced Tokens', col: '#ef4444', ico: 'ðŸ›ï¸', desc: "Les ART sont soumis au regime le plus strict de MiCA. L'emetteur doit etre une entite juridique agreee, maintenir des reserves de stabilisation, et obtenir une autorisation prealable." };
            if (at === 'emt')
                return { type: 'full', title: 'Autorisation Complete Requise', art: 'Art. 48-58 â€” Titre IV : E-Money Tokens', col: '#ef4444', ico: 'ðŸ›ï¸', desc: "Les EMT doivent etre emis par un etablissement de credit ou de monnaie electronique agree. Obligations de reserves 1:1 et de remboursement a la valeur nominale." };
            return { type: 'full', title: 'Autorisation Probablement Requise', art: 'Art. 4-15 â€” Titre II : Exigences Generales', col: '#ef4444', ico: 'âš ï¸', desc: "Votre profil ne correspond a aucune exemption identifiee. Une analyse juridique complete est requise. MiCA impose a minima la publication d'un White Paper et une notification aux autorites." };
        }

        function renderQ() {
            const q = QS[step];
            const isPro = step >= 4;
            const hasPro = window.SessionManager ? SessionManager.checkAccess && false : false; // demo: gate
            if (isPro && !hasPro) { renderGate(); return; }
            document.getElementById('slab').textContent = `Etape ${step + 1} / ${QS.length}`;
            const pct = Math.round(((step + 1) / QS.length) * 100);
            document.getElementById('spct').textContent = pct + '%';
            document.getElementById('pfill').style.width = pct + '%';
            document.getElementById('content').innerHTML = `
        <div class="qcard">
            <div class="q-num">Question ${step + 1} sur ${QS.length}</div>
            <div class="q-text">${q.text}</div>
            <div class="q-sub">${q.sub}</div>
            <div class="options">${q.opts.map(o => `<button class="opt-btn" onclick="pick('${o.v}','${o.l.replace(/'/g, "\\'")}')"><span class="opt-icon">${o.i}</span><span>${o.l}</span></button>`).join('')}</div>
        </div>`;
        }

        function renderGate() {
            document.getElementById('prog-wrap').style.display = 'none';
            document.getElementById('gsec').style.display = 'none';
            document.getElementById('content').innerHTML = `
        <div class="pro-gate">
            <div style="font-size:48px;margin-bottom:14px">ðŸ”’</div>
            <h3>Rapport Complet â€” Acces Pro</h3>
            <p>Les 4 premieres etapes sont accessibles gratuitement. Le rapport complet avec verdict et articles MiCA precis est reserve aux membres <strong style="color:var(--gold)">Pro</strong>.</p>
            <a href="pricing.html" class="btn-upgrade"><i class="fas fa-star"></i> Passer Pro</a>
            <button class="btn-ghost" onclick="restart()">Recommencer</button>
        </div>`;
        }

        function pick(val, label) {
            ans[QS[step].id] = val;
            score += SM[val] || 0;
            const cs = Math.min(score, 100);
            const chip = document.createElement('div'); chip.className = 'trail-item';
            chip.textContent = label.length > 28 ? label.slice(0, 26) + 'â€¦' : label;
            document.getElementById('trail').appendChild(chip);
            gauge(cs, gcolor(cs));
            step++;
            if (step >= QS.length) renderVerdict(); else renderQ();
        }

        function renderVerdict() {
            document.getElementById('prog-wrap').style.display = 'none';
            const v = verdict(ans);
            const shareUrl = `${location.origin}${location.pathname}?${new URLSearchParams(ans).toString()}`;
            document.getElementById('content').innerHTML = `
        <div class="vcard v-${v.type}">
            <div class="v-icon">${v.ico}</div>
            <div class="v-title" style="color:${v.col}">${v.title}</div>
            <div class="v-article" style="color:${v.col}">${v.art}</div>
            <div class="v-desc">${v.desc}</div>
            <div class="v-actions">
                <button class="btn-copy" id="cbtn" onclick="copyRes()"><i class="fas fa-link"></i> Copier le lien</button>
                <button class="btn-restart" onclick="restart()"><i class="fas fa-rotate-left"></i> Nouvelle simulation</button>
                <a href="comparateur.html" style="text-decoration:none"><button class="btn-copy"><i class="fas fa-balance-scale"></i> Comparateur</button></a>
            </div>
        </div>`;
            gauge(Math.min(score, 100), v.col);
            window._shareUrl = shareUrl;
        }

        function copyRes() {
            navigator.clipboard.writeText(window._shareUrl || location.href).then(() => {
                const b = document.getElementById('cbtn'); if (b) { b.innerHTML = '<i class="fas fa-check"></i> Copie !'; setTimeout(() => { b.innerHTML = '<i class="fas fa-link"></i> Copier le lien'; }, 2000); }
            });
        }

        function restart() {
            step = 0; ans = {}; score = 0;
            document.getElementById('trail').innerHTML = '';
            document.getElementById('prog-wrap').style.display = '';
            document.getElementById('gsec').style.display = '';
            document.getElementById('pfill').style.width = '20%';
            gauge(0, '#3b82f6');
            renderQ();
        }

        window.pick = pick; window.restart = restart; window.copyRes = copyRes;

        // Init â€” check URL params for shared results
        (function () {
            const p = new URLSearchParams(location.search);
            const keys = ['asset_type', 'domicile', 'supply_cap', 'public_offering', 'marketing_scope'];
            keys.forEach(k => { if (p.has(k)) { ans[k] = p.get(k); score += SM[p.get(k)] || 0; } });
            gauge(0, '#3b82f6');
            if (Object.keys(ans).length === keys.length) {
                gauge(Math.min(score, 100), gcolor(Math.min(score, 100)));
                document.getElementById('prog-wrap').style.display = 'none';
                renderVerdict();
            } else { renderQ(); }
        })();
    </script>

    <!-- 6-COLUMN INSTITUTIONAL FOOTER -->
    <footer class="super-footer">
        <div class="footer-content">
            <div class="footer-grid">
                <!-- 0. BRAND -->
                <div class="footer-brand">
                    <h3><i class="fas fa-cube" style="color:var(--blue)"></i> DCM DIGITAL</h3>
                    <p>Plateforme dâ€™analyse dÃ©diÃ©e Ã  la tokenisation des actifs financiers et aux infrastructures
                        blockchain.</p>
                </div>

                <!-- 1. PRODUIT -->
                <div class="footer-col">
                    <h4>Produit</h4>
                    <ul class="footer-links">
                        <li><a href="index.html">Hub Central</a></li>
                        <li><a href="dashboard.html">Dashboard</a></li>
                        <li><a href="guide.html">Guide Expert</a></li>
                        <li><a href="mica-simulator.html" style="color:var(--blue)">Simulateur MiCA</a></li>
                    </ul>
                </div>

                <!-- 2. RESEARCH -->
                <div class="footer-col">
                    <h4>Research</h4>
                    <ul class="footer-links">
                        <li><a href="rwa.html">RWA & DeFi</a></li>
                        <li><a href="networks/bitcoin.html">RÃ©seaux Blockchain</a></li>
                        <li><a href="legal-matrix.html">Global Matrix</a></li>
                    </ul>
                </div>

                <!-- 3. TOOLS -->
                <div class="footer-col">
                    <h4>Outils</h4>
                    <ul class="footer-links">
                        <li><a href="comparateur.html">Comparateur Live</a></li>
                        <li><a href="yield-mechanics.html">Yield Simulator</a></li>
                        <li><a href="quiz.html">Certification</a></li>
                    </ul>
                </div>

                <!-- 4. CORPORATE -->
                <div class="footer-col">
                    <h4>Corporate</h4>
                    <ul class="footer-links">
                        <li><a href="methodology.html">MÃ©thodologie</a></li>
                        <li><a href="index-simple.html">Site Corporate</a></li>
                    </ul>
                </div>

                <!-- 5. LEGAL -->
                <div class="footer-col">
                    <h4>Legal</h4>
                    <ul class="footer-links">
                        <li><a href="mentions-legales.html">Mentions LÃ©gales</a></li>
                        <li><a href="cgu.html">CGU</a></li>
                        <li><a href="cookies.html">Cookies</a></li>
                    </ul>
                </div>
            </div>
            <div style="margin-top: 10px; font-size: 11px; color: #64748b; text-align:center; padding-bottom: 20px;">
                Â© 2026 DCM Digital â€¢ Educational Only
            </div>
        </div>
    </footer>

</body>

</html>