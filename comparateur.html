<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DCM Digital – Comparateur de Reseaux Blockchain</title>
    <meta name="description"
        content="Comparateur live de reseaux blockchain — BTC vs ETH vs SOL vs BNB. Prix en temps reel, scores institutionnels, metriques cles.">
    <link
        href="https://fonts.googleapis.com/css2?family=Urbanist:wght@400;600;700;800&family=JetBrains+Mono:wght@400&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="styles-footer.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --bg: #020617;
            --surface: #0d1117;
            --border: rgba(255, 255, 255, .07);
            --blue: #3b82f6;
            --green: #10b981;
            --gold: #f0c040;
            --red: #ef4444;
            --amber: #f59e0b;
            --text: #e2e8f0;
            --muted: #64748b
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box
        }

        body {
            font-family: 'Urbanist', sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh
        }

        .top-nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 40px;
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 50;
            background: rgba(2, 6, 23, .9);
            backdrop-filter: blur(12px)
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 800;
            font-size: 16px;
            color: #fff;
            text-decoration: none
        }

        .nav-brand i {
            color: var(--blue)
        }

        .nav-badge {
            background: rgba(59, 130, 246, .15);
            color: var(--blue);
            border: 1px solid rgba(59, 130, 246, .3);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 1px
        }

        .hero {
            text-align: center;
            padding: 48px 20px 28px;
            max-width: 680px;
            margin: 0 auto
        }

        .hero-tag {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: rgba(59, 130, 246, .1);
            border: 1px solid rgba(59, 130, 246, .25);
            color: var(--blue);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            margin-bottom: 16px
        }

        .hero h1 {
            font-size: 36px;
            font-weight: 800;
            line-height: 1.2;
            margin-bottom: 10px
        }

        .hero p {
            color: var(--muted);
            font-size: 14px
        }

        /* SELECTOR */
        .selector-row {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            padding: 24px 20px 20px;
            flex-wrap: wrap
        }

        .sel-block {
            text-align: center
        }

        .sel-label {
            font-size: 11px;
            color: var(--muted);
            font-weight: 700;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            margin-bottom: 8px
        }

        .net-select {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 10px 16px;
            color: var(--text);
            font-size: 15px;
            font-weight: 700;
            font-family: 'Urbanist', sans-serif;
            cursor: pointer;
            min-width: 180px;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' fill='none'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%2364748b' stroke-width='1.5' stroke-linecap='round'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 12px center
        }

        .net-select:focus {
            outline: none;
            border-color: var(--blue)
        }

        .vs-badge {
            font-size: 22px;
            font-weight: 800;
            color: var(--muted);
            padding: 0 8px
        }

        .btn-compare {
            background: linear-gradient(135deg, var(--blue), #8b5cf6);
            color: #fff;
            border: none;
            border-radius: 10px;
            padding: 12px 28px;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            font-family: 'Urbanist', sans-serif;
            transition: opacity .2s
        }

        .btn-compare:hover {
            opacity: .88
        }

        /* COMPARISON GRID */
        .comp-wrap {
            max-width: 1080px;
            margin: 0 auto;
            padding: 0 20px 80px
        }

        .panels {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px
        }

        .panel {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 28px;
            animation: fiu .4s ease
        }

        @keyframes fiu {
            from {
                opacity: 0;
                transform: translateY(12px)
            }

            to {
                opacity: 1;
                transform: translateY(0)
            }
        }

        .panel-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 24px
        }

        .coin-dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            flex-shrink: 0
        }

        .coin-name {
            font-size: 20px;
            font-weight: 800
        }

        .coin-symbol {
            font-size: 12px;
            color: var(--muted);
            font-weight: 600
        }

        .price-row {
            margin-bottom: 20px
        }

        .price-val {
            font-family: 'JetBrains Mono', monospace;
            font-size: 30px;
            font-weight: 700;
            color: var(--gold)
        }

        .price-change {
            font-size: 13px;
            font-weight: 700;
            margin-top: 4px
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px
        }

        .metric-box {
            background: rgba(255, 255, 255, .03);
            border: 1px solid rgba(255, 255, 255, .06);
            border-radius: 8px;
            padding: 12px
        }

        .metric-label {
            font-size: 10px;
            color: var(--muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 4px
        }

        .metric-val {
            font-size: 14px;
            font-weight: 700;
            font-family: 'JetBrains Mono', monospace
        }

        .radar-wrap {
            height: 200px;
            position: relative;
            margin-bottom: 16px
        }

        /* DELTA ROW */
        .delta-row {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 20px 28px
        }

        .delta-title {
            font-size: 13px;
            font-weight: 700;
            color: var(--muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 14px
        }

        .delta-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px
        }

        .delta-item {
            text-align: center;
            padding: 12px 8px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, .06)
        }

        .delta-metric {
            font-size: 10px;
            color: var(--muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 6px
        }

        .delta-winner {
            font-size: 13px;
            font-weight: 800;
            margin-bottom: 2px
        }

        .delta-sub {
            font-size: 10px;
            color: var(--muted)
        }

        .loading-state {
            text-align: center;
            padding: 40px;
            color: var(--muted)
        }

        @media(max-width:700px) {
            .panels {
                grid-template-columns: 1fr
            }

            .delta-grid {
                grid-template-columns: repeat(3, 1fr)
            }
        }
    </style>
</head>

<body>

    <nav class="top-nav">
        <a href="index.html" class="nav-brand">
            <i class="fas fa-cube" style="color:var(--blue)"></i>
            DCM DIGITAL
        </a>
        <div style="display:flex; align-items:center; gap:25px;">
            <a href="dashboard.html" style="color:var(--muted); font-size:13px; text-decoration:none; font-weight:600;">
                <i class="fas fa-chart-line"></i> Dashboard
            </a>
            <span class="nav-badge">Comparateur Live</span>
        </div>
    </nav>

    <div class="hero">
        <div class="hero-tag"><i class="fas fa-balance-scale"></i> Comparateur Institutionnel Live</div>
        <h1>Comparateur de<br>Reseaux Blockchain</h1>
        <p>Comparez deux reseaux cote a cote — prix live, scores institutionnels, metriques techniques.</p>
    </div>

    <div class="selector-row">
        <div class="sel-block">
            <div class="sel-label">Reseau Gauche</div>
            <select id="sel-left" class="net-select">
                <option value="BTC">₿ Bitcoin (BTC)</option>
                <option value="ETH">Ξ Ethereum (ETH)</option>
                <option value="SOL">◎ Solana (SOL)</option>
                <option value="BNB">B BNB Chain (BNB)</option>
            </select>
        </div>
        <div class="vs-badge">VS</div>
        <div class="sel-block">
            <div class="sel-label">Reseau Droit</div>
            <select id="sel-right" class="net-select">
                <option value="BTC">₿ Bitcoin (BTC)</option>
                <option value="ETH" selected>Ξ Ethereum (ETH)</option>
                <option value="SOL">◎ Solana (SOL)</option>
                <option value="BNB">B BNB Chain (BNB)</option>
            </select>
        </div>
        <button class="btn-compare" onclick="runCompare()"><i class="fas fa-play"></i> Comparer</button>
    </div>

    <div class="comp-wrap">
        <div id="panels" class="panels" style="display:none"></div>
        <div id="delta" style="display:none"></div>
        <div id="loading" class="loading-state"><i class="fas fa-circle-notch fa-spin"
                style="font-size:28px;"></i><br><br>Chargement des donnees live...</div>
    </div>

    <script>
        const MARKET_URL = 'https://wnwerjuqtrduqkgwdjrg.supabase.co/functions/v1/market-data';
        const ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indud2VyanVxdHJkdXFrZ3dkanJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA3Mzg3OTEsImV4cCI6MjA4NjMxNDc5MX0.0WqMQs84PFAHuoMQT8xiAZYpWN5b2XGeumtaNzRHcoo';

        const META = {
            BTC: {
                name: 'Bitcoin', symbol: 'BTC', color: '#F7931A', page: 'bitcoin.html',
                scores: [10, 9, 2, 10, 4], tps: '7 TPS', consensus: 'Proof of Work', layer: 'L1', risk: { Regulatory: 'Medium', Technical: 'Low', Monetary: 'High', Governance: 'Medium' }
            },
            ETH: {
                name: 'Ethereum', symbol: 'ETH', color: '#627EEA', page: 'ethereum.html',
                scores: [9, 8, 3, 9, 10], tps: '15-30 TPS', consensus: 'Proof of Stake', layer: 'L1+L2', risk: { Regulatory: 'Medium', Technical: 'Medium', Monetary: 'Low', Governance: 'Medium' }
            },
            SOL: {
                name: 'Solana', symbol: 'SOL', color: '#14F195', page: 'solana.html',
                scores: [7, 4, 10, 4, 8], tps: '50 000 TPS', consensus: 'Proof of History', layer: 'L1', risk: { Regulatory: 'High', Technical: 'High', Monetary: 'Medium', Governance: 'High' }
            },
            BNB: {
                name: 'BNB Chain', symbol: 'BNB', color: '#F3BA2F', page: 'bnb.html',
                scores: [6, 2, 7, 8, 8], tps: '300+ TPS', consensus: 'Proof of Staked Authority', layer: 'L1+BNB', risk: { Regulatory: 'High', Technical: 'Low', Monetary: 'Low', Governance: 'High' }
            },
        };

        const RADAR_LABELS = ['Security', 'Decentral.', 'Throughput', 'Hardness', 'Ecosystem'];

        let marketData = null;
        let radarCharts = [];

        function fmtPrice(v) {
            if (!v) return '--';
            if (v >= 10000) return v.toLocaleString('fr-FR', { maximumFractionDigits: 0 });
            if (v >= 100) return v.toLocaleString('fr-FR', { maximumFractionDigits: 1 });
            return v.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
        }
        function fmtLarge(v) {
            if (!v) return '--';
            if (v >= 1e12) return `${(v / 1e12).toFixed(2)}T`;
            if (v >= 1e9) return `${(v / 1e9).toFixed(1)}B`;
            if (v >= 1e6) return `${(v / 1e6).toFixed(0)}M`;
            return v.toLocaleString('fr-FR');
        }

        async function fetchMarket() {
            try {
                const r = await fetch(MARKET_URL, { headers: { apikey: ANON_KEY, Authorization: `Bearer ${ANON_KEY}` } });
                if (!r.ok) throw new Error('HTTP ' + r.status);
                return await r.json();
            } catch (e) { console.warn('Market data unavailable:', e); return null; }
        }

        function renderPanel(sym, data) {
            const m = META[sym];
            const coin = data?.coins?.[sym];
            const price = coin?.priceEur ?? null;
            const change = coin?.change24h ?? null;
            const pos = change !== null && change >= 0;
            const changeTxt = change !== null ? `${pos ? '▲' : '▼'} ${Math.abs(change).toFixed(2)}%` : '--';
            const changeCol = pos ? '#10b981' : '#ef4444';
            const canvasId = `radar-${sym}-${Date.now()}`;

            return `
        <div class="panel">
            <div class="panel-header">
                <div class="coin-dot" style="background:${m.color}"></div>
                <div>
                    <div class="coin-name">${m.name}</div>
                    <div class="coin-symbol">${sym}</div>
                </div>
                <a href="networks/${m.page}" style="margin-left:auto;color:var(--muted);font-size:12px;text-decoration:none;">Fiche &rarr;</a>
            </div>

            <div class="price-row">
                <div class="price-val">${price !== null ? '€' + fmtPrice(price) : 'N/A'}</div>
                <div class="price-change" style="color:${changeCol}">${changeTxt} (24h)</div>
            </div>

            <div class="metrics-grid">
                <div class="metric-box">
                    <div class="metric-label">Market Cap</div>
                    <div class="metric-val">€${fmtLarge(coin?.marketCapEur)}</div>
                </div>
                <div class="metric-box">
                    <div class="metric-label">Volume 24h</div>
                    <div class="metric-val">€${fmtLarge(coin?.volume24hEur)}</div>
                </div>
                <div class="metric-box">
                    <div class="metric-label">Throughput</div>
                    <div class="metric-val" style="font-size:12px">${m.tps}</div>
                </div>
                <div class="metric-box">
                    <div class="metric-label">Consensus</div>
                    <div class="metric-val" style="font-size:11px">${m.consensus}</div>
                </div>
                <div class="metric-box">
                    <div class="metric-label">Couche</div>
                    <div class="metric-val" style="font-size:12px">${m.layer}</div>
                </div>
                <div class="metric-box">
                    <div class="metric-label">Risque Tech</div>
                    <div class="metric-val" style="font-size:12px;color:${m.risk.Technical === 'Low' ? '#10b981' : m.risk.Technical === 'High' ? '#ef4444' : '#f59e0b'}">${m.risk.Technical}</div>
                </div>
            </div>

            <div class="radar-wrap">
                <canvas id="${canvasId}"></canvas>
            </div>
        </div>`;
        }

        function drawRadar(canvasId, sym) {
            const ctx = document.getElementById(canvasId);
            if (!ctx) return;
            const m = META[sym];
            const chart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: RADAR_LABELS,
                    datasets: [{ label: m.name, data: m.scores, backgroundColor: `${m.color}22`, borderColor: m.color, pointBackgroundColor: m.color, pointBorderColor: '#fff', borderWidth: 2 }]
                },
                options: { responsive: true, maintainAspectRatio: false, scales: { r: { angleLines: { color: 'rgba(255,255,255,.07)' }, grid: { color: 'rgba(255,255,255,.07)' }, pointLabels: { color: '#888', font: { size: 10, family: 'Urbanist' } }, ticks: { display: false, min: 0, max: 10 } } }, plugins: { legend: { display: false }, tooltip: { backgroundColor: '#111', titleColor: '#fff', bodyColor: m.color, borderColor: '#333', borderWidth: 1 } } }
            });
            radarCharts.push(chart);
        }

        function renderDelta(symL, symR, data) {
            const mL = META[symL], mR = META[symR];
            const cL = data?.coins?.[symL], cR = data?.coins?.[symR];

            const metrics = [
                { label: 'Prix', vL: cL?.priceEur ?? 0, vR: cR?.priceEur ?? 0, fmt: v => v > 0 ? '€' + fmtPrice(v) : '--', higherWins: true },
                { label: '24h Change', vL: cL?.change24h ?? 0, vR: cR?.change24h ?? 0, fmt: v => v !== null ? v.toFixed(2) + '%' : '--', higherWins: true },
                { label: 'Market Cap', vL: cL?.marketCapEur ?? 0, vR: cR?.marketCapEur ?? 0, fmt: v => '€' + fmtLarge(v), higherWins: true },
                { label: 'Security', vL: mL.scores[0], vR: mR.scores[0], fmt: v => v + '/10', higherWins: true },
                { label: 'Throughput', vL: mL.scores[2], vR: mR.scores[2], fmt: v => v + '/10', higherWins: true },
            ];

            const items = metrics.map(m => {
                const winL = m.higherWins ? m.vL > m.vR : m.vL < m.vR;
                const winR = m.higherWins ? m.vR > m.vL : m.vR < m.vL;
                const tie = m.vL === m.vR;
                const winner = tie ? 'Egal' : winL ? mL.symbol : mR.symbol;
                const winCol = tie ? 'var(--muted)' : winL ? mL.color : mR.color;
                return `
            <div class="delta-item">
                <div class="delta-metric">${m.label}</div>
                <div class="delta-winner" style="color:${winCol}">${winner}</div>
                <div class="delta-sub">${m.fmt(m.vL)} / ${m.fmt(m.vR)}</div>
            </div>`;
            }).join('');

            return `<div class="delta-row"><div class="delta-title"><i class="fas fa-trophy"></i> Analyse Comparative</div><div class="delta-grid">${items}</div></div>`;
        }

        async function runCompare() {
            const symL = document.getElementById('sel-left').value;
            const symR = document.getElementById('sel-right').value;

            // Destroy old charts
            radarCharts.forEach(c => c.destroy());
            radarCharts = [];

            document.getElementById('loading').style.display = 'block';
            document.getElementById('panels').style.display = 'none';
            document.getElementById('delta').style.display = 'none';

            // Update URL params
            const p = new URLSearchParams({ left: symL, right: symR });
            history.replaceState(null, '', `?${p}`);

            if (!marketData) marketData = await fetchMarket();

            const pHTML = renderPanel(symL, marketData) + renderPanel(symR, marketData);
            document.getElementById('panels').innerHTML = pHTML;
            document.getElementById('delta').innerHTML = renderDelta(symL, symR, marketData);

            document.getElementById('loading').style.display = 'none';
            document.getElementById('panels').style.display = 'grid';
            document.getElementById('delta').style.display = 'block';

            // Draw radars after DOM update
            setTimeout(() => {
                drawRadar(`radar-${symL}-${[...document.querySelectorAll(`[id^='radar-${symL}']`)].map(e => e.id)[0]?.split('-').slice(-1)[0]}`, symL);
                // Find actual canvas IDs
                document.querySelectorAll('[id^="radar-"]').forEach(el => {
                    const sym = el.id.split('-')[1];
                    if (sym && META[sym]) drawRadar(el.id, sym);
                });
            }, 50);
        }

        window.runCompare = runCompare;

        // Init from URL params
        (function () {
            const p = new URLSearchParams(location.search);
            if (p.has('left')) {
                const l = p.get('left'), r = p.get('right') || 'ETH';
                const selL = document.getElementById('sel-left');
                const selR = document.getElementById('sel-right');
                if ([...selL.options].some(o => o.value === l)) selL.value = l;
                if ([...selR.options].some(o => o.value === r)) selR.value = r;
                runCompare();
            } else {
                runCompare();
            }
        })();
    </script>
    <!-- 6-COLUMN INSTITUTIONAL FOOTER -->
    <footer class="super-footer">
        <div class="footer-content">
            <div class="footer-grid">
                <!-- 0. BRAND -->
                <div class="footer-brand">
                    <h3><i class="fas fa-cube" style="color:var(--blue)"></i> DCM DIGITAL</h3>
                    <p>Plateforme d’analyse dédiée à la tokenisation des actifs financiers et aux infrastructures
                        blockchain.</p>
                </div>

                <!-- 1. PRODUIT -->
                <div class="footer-col">
                    <h4>Produit</h4>
                    <ul class="footer-links">
                        <li><a href="index.html">Hub Central</a></li>
                        <li><a href="dashboard.html">Dashboard</a></li>
                        <li><a href="guide.html">Guide Expert</a></li>
                        <li><a href="mica-simulator.html">Simulateur MiCA</a></li>
                    </ul>
                </div>

                <!-- 2. RESEARCH -->
                <div class="footer-col">
                    <h4>Research</h4>
                    <ul class="footer-links">
                        <li><a href="rwa.html">RWA & DeFi</a></li>
                        <li><a href="networks/bitcoin.html">Réseaux Blockchain</a></li>
                        <li><a href="legal-matrix.html">Global Matrix</a></li>
                    </ul>
                </div>

                <!-- 3. TOOLS -->
                <div class="footer-col">
                    <h4>Outils</h4>
                    <ul class="footer-links">
                        <li><a href="comparateur.html" style="color:var(--blue)">Comparateur Live</a></li>
                        <li><a href="yield-mechanics.html">Yield Simulator</a></li>
                        <li><a href="quiz.html">Certification</a></li>
                    </ul>
                </div>

                <!-- 4. CORPORATE -->
                <div class="footer-col">
                    <h4>Corporate</h4>
                    <ul class="footer-links">
                        <li><a href="methodology.html">Méthodologie</a></li>
                        <li><a href="index-simple.html">Site Corporate</a></li>
                    </ul>
                </div>

                <!-- 5. LEGAL -->
                <div class="footer-col">
                    <h4>Legal</h4>
                    <ul class="footer-links">
                        <li><a href="mentions-legales.html">Mentions Légales</a></li>
                        <li><a href="cgu.html">CGU</a></li>
                        <li><a href="cookies.html">Cookies</a></li>
                    </ul>
                </div>
            </div>
            <div style="margin-top: 10px; font-size: 11px; color: #64748b; text-align:center; padding-bottom: 20px;">
                © 2026 DCM Digital • Educational Only
            </div>
        </div>
    </footer>

</body>

</html>